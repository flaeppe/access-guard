[flake8]
max-line-length = 88
exclude = .git,docs
show-source = true
max-complexity = 10

[coverage:run]
omit = */venv/*
       */__main__.py

[coverage:report]
skip_covered = True
show_missing = True
exclude_lines =
  pragma: no cover
  # ignore non-implementations
  ^\s*\.\.\.
  if TYPE_CHECKING:
  raise NotImplementedError
  ^@skip\(

[tool:pytest]
addopts =
    --cov=access_guard
    --cov-report=term-missing
    --cov-report=xml
    --no-cov-on-fail
    -rxXs

[mypy]
python_version = 3.9
pretty = True
files = access_guard

show_error_codes = True
no_implicit_reexport = True
no_implicit_optional = True
strict_equality = True
strict_optional = True
check_untyped_defs = True
disallow_incomplete_defs = True
disallow_untyped_defs = True
ignore_missing_imports = False

warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_return_any = True
warn_unreachable = True

# Ignore tests
[mypy-*.tests.*]
ignore_errors = True

[mypy-factory.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True
